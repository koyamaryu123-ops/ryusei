<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RYUSEI KOYAMA | THE CORE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Zen+Kaku+Gothic+New:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <canvas id="world"></canvas>

    <header>
        <div class="logo">Ryusei.<span class="neon-green">K</span></div>
        <div class="status">SYSTEM: ONLINE</div>
    </header>

    <nav class="side-nav">
        <ul>
            <li><a href="#top">TOP</a></li>
            <li><a href="#identity">IDENTITY</a></li>
            <li><a href="#works">WORKS</a></li>
            <li><a href="#favorites">My fav</a></li></ul>
        </ul>
    </nav>

    <main>
        <section id="top" class="hero-container">
            <div class="hero-text" id="hero-text">
                <p class="hero-sub">WASEDA UNIV. / CREATOR</p>
                <h1 class="hero-title">CLARIFY<br><span class="outline">THE CORE</span></h1>
                <p class="hero-msg">真実（データ）を暴き、虚構（物語）を構築する。</p>
            </div>
            <div class="scroll-prompt">SCROLL TO DIVE</div>
        </section>

        <div class="content-wrapper">
            
            <section id="identity" class="section-block">
                <div class="block-header">
                    <span class="num">01</span>
                    <h2>IDENTITY</h2>
                </div>
                <div class="glass-panel fade-up">
                    <h3>RyuSei Koyama</h3>
                    <p class="role">Data Scientist & Novelist</p>
                    <p class="desc">
                        早稲田大学 人間科学部。<br>
                        論理的な「データ解析」と、感性的な「ダークファンタジー執筆」。<br>
                        さらにハイリスクな暗号資産市場での勝負勘を持つ、ENFP型クリエイター。<br>
                        相反する領域を横断し、予測不能な解を導き出す。
                    </p>
                    <div class="stats-bar">
                        <div class="bar-item">
                            <span>Logic (Python)</span>
                            <div class="progress"><div class="fill green" style="width: 90%"></div></div>
                        </div>
                        <div class="bar-item">
                            <span>Creative (Writing)</span>
                            <div class="progress"><div class="fill pink" style="width: 95%"></div></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="works" class="section-block">
                <div class="block-header">
                    <span class="num">02</span>
                    <h2>WORKS</h2>
                </div>
                
               <div class="works-list">
    
    <a href="https://www.youtube.com/watch?v=BjXx_zYRwVc" target="_blank" class="work-row fade-up">
        <div class="w-cat neon-green">FINANCE</div>
        <div class="w-content">
            <h3>Music</h3>
            <p>音楽が大の好みでいつでも聴いており、自分でもベースをプレイする。</p>
        </div>
        <div class="w-arrow">→</div>
    </a>

    <a href="https://www.youtube.com/watch?v=BjXx_zYRwVc" target="_blank" class="work-row fade-up">
        <div class="w-cat neon-pink">NOVEL</div>
        <div class="w-content">
            <h3>Dark Fantasy World</h3>
            <p>緻密な設定資料とプロット制作。没入型Web小説の執筆。</p>
        </div>
        <div class="w-arrow">→</div>
    </a>

    <a href="https://www.youtube.com/watch?v=BjXx_zYRwVc" target="_blank" class="work-row fade-up">
        <div class="w-cat neon-blue">DATA</div>
        <div class="w-content">
            <h3>Multivariate Analysis</h3>
            <p>Python/Pandasを用いた主成分分析によるデータの可視化。Webの開発。プログラミングコードを用いて様々なことに挑戦する。</p>
        </div>
        <div class="w-arrow">→</div>
    </a>

</div>

               <section id="favorites" class="section-block fav-section-spacing">
    <div class="block-header">
        <span class="num">03</span>
        <h2>MY FAV.</h2>
    </div>

    <p class="fav-desc">
        データの海を離れ、感性をチャージする瞬間。<br>
        ゲーム、旅、そして至高の一杯。
    </p>

    <div class="fav-grid">
        
        <div class="fav-item fade-up">
            <img src="myfav1.jpg" alt="Favorite 1">
            <div class="overlay">
                <span>Gaming / Hobby</span>
            </div>
        </div>

        <div class="fav-item fade-up">
            <img src="myfav2.jpg" alt="Favorite 2">
            <div class="overlay">
                <span>Travel / Memory</span>
            </div>
        </div>

        <div class="fav-item fade-up">
            <img src="myfav3.jpg" alt="Favorite 3">
            <div class="overlay">
                <span>Food / Ramen</span>
            </div>
        </div>
        
    </div>
</section>

            <section class="footer">
    <h2>CONTACT ME</h2>
    <p class="email-text">koyamaryu123@gmail.com</p>
    <a href="mailto:koyamaryu123@gmail.com" class="btn-glitch">SEND EMAIL</a>
</section>
        </div>
    </main>

    <script>
        // === 1. 3Dパーティクル & スクロール連動 ===
        const canvas = document.getElementById('world');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        
        // 設定
        const particleCount = 400;
        let sphereRadius = 300; // 初期の球の大きさ

        // スクロール値
        let scrollY = 0;

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // 粒子クラス
        class Particle {
            constructor() {
                this.reset();
            }
            reset() {
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos((Math.random() * 2) - 1);
                this.baseX = sphereRadius * Math.sin(phi) * Math.cos(theta);
                this.baseY = sphereRadius * Math.sin(phi) * Math.sin(theta);
                this.baseZ = sphereRadius * Math.cos(phi);
                this.x = this.baseX;
                this.y = this.baseY;
                this.z = this.baseZ;
                this.size = Math.random() * 1.5 + 0.5;
            }
            rotate(angle) {
                // 自動回転 + スクロールによる「広がり」効果
                // スクロールするとZ軸手前に爆発的に広がる
                const explosion = scrollY * 2; 
                
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                
                // 回転計算
                let x = this.baseX * cos - this.baseZ * sin;
                let z = this.baseZ * cos + this.baseX * sin;
                
                // スクロール影響（手前に迫ってくる）
                this.x = x * (1 + scrollY * 0.002);
                this.y = this.baseY * (1 + scrollY * 0.002);
                this.z = z + explosion; 
            }
            draw(ctx) {
                // 遠近法
                const fov = 400;
                const scale = fov / (fov + this.z); 
                if (scale < 0) return; // カメラより後ろは描画しない

                const px = this.x * scale + width / 2;
                const py = this.y * scale + height / 2;
                
                // 色の変化（黄色〜ピンク）
                // 画面左側ほど黄色、右側ほどピンク
                const ratio = (px / width);
                const r = Math.floor(204 + (255 - 204) * ratio); // Yellow -> Pink R
                const g = Math.floor(255 * (1 - ratio));         // Yellow -> Pink G
                const b = Math.floor(100 * ratio);               // Yellow -> Pink B
                
                ctx.fillStyle = `rgba(${r},${g},${b}, ${Math.min(1, scale)})`;
                ctx.beginPath();
                ctx.arc(px, py, this.size * scale, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for(let i=0; i<particleCount; i++) particles.push(new Particle());

        // ループ
        let angle = 0;
        function animate() {
            ctx.fillStyle = '#050505';
            ctx.fillRect(0, 0, width, height);
            
            angle += 0.002;
            
            particles.forEach(p => {
                p.rotate(angle);
                p.draw(ctx);
            });
            requestAnimationFrame(animate);
        }
        animate();

        // === 2. 「ぐっ」となるスクロールエフェクト制御 ===
        const heroText = document.getElementById('hero-text');
        
        window.addEventListener('scroll', () => {
            scrollY = window.scrollY;
            
            // ヒーローテキストのズーム処理
            // スクロールするほど scale が大きくなり、opacity が下がる
            const zoom = 1 + scrollY * 0.005; 
            const opacity = 1 - scrollY * 0.0025;
            
            if(opacity > 0) {
                heroText.style.transform = `scale(${zoom})`;
                heroText.style.opacity = opacity;
                heroText.style.display = 'block';
            } else {
                heroText.style.display = 'none'; // 見えなくなったら消す（負荷軽減）
            }

            // コンテンツのフェードイン
            document.querySelectorAll('.fade-up').forEach(el => {
                const rect = el.getBoundingClientRect();
                if(rect.top < window.innerHeight - 100) {
                    el.classList.add('visible');
                }
            });
        });

    </script>
</body>
</html>
