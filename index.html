<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RYUKI KOYAMA | THE CORE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Zen+Kaku+Gothic+New:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <canvas id="particle-canvas"></canvas>

    <header>
        <div class="logo">RK.<span class="highlight">DEV</span></div>
        <div class="lang">JP / EN</div>
    </header>

    <nav class="side-nav">
        <ul>
            <li><a href="#top" class="active">TOP</a></li>
            <li><a href="#about">ABOUT</a></li>
            <li><a href="#works">WORKS</a></li>
            <li><a href="#contact">CONTACT</a></li>
        </ul>
    </nav>

    <main>
        <section id="top" class="hero">
            <div class="hero-content fade-in">
                <h1 class="main-title">CLARIFY<br>THE VISION</h1>
                <p class="sub-title">より深く、世界（データ）と物語（フィクション）をハックする。</p>
            </div>
        </section>

        <section id="about" class="content-section">
            <div class="container fade-in">
                <h2 class="section-head">CORE IDENTITY</h2>
                <div class="text-block">
                    <p class="highlight-text">Ryuki Koyama / Waseda Univ.</p>
                    <p class="desc">
                        「真実」を見抜くデータ解析と、「虚構」を紡ぐストーリーテリング。<br>
                        相反する二つのコアを融合させ、予測不能な未来を実装するエンジニア。<br>
                        暗号資産（Crypto）のハイリスクな海を泳ぎ、未踏の物語を描く。
                    </p>
                </div>
            </div>
        </section>

        <section id="works" class="content-section">
            <div class="container">
                <h2 class="section-head">PROJECTS</h2>
                <div class="works-grid">
                    <div class="work-item fade-in">
                        <div class="work-num">01</div>
                        <div class="work-info">
                            <h3>High-Risk Finance</h3>
                            <p>Crypto Meme Coin Analysis & Strategy</p>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="work-item fade-in">
                        <div class="work-num">02</div>
                        <div class="work-info">
                            <h3>Dark Fantasy Novel</h3>
                            <p>World Building / Immersive Storytelling</p>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="work-item fade-in">
                        <div class="work-num">03</div>
                        <div class="work-info">
                            <h3>Data Science</h3>
                            <p>Multivariate Analysis with Python (PCA)</p>
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="content-section footer-section">
            <div class="container fade-in">
                <h2 class="section-head">CONNECT</h2>
                <p class="contact-text">そのアイデアを、深海から引き上げる。</p>
                <a href="mailto:example@gmail.com" class="btn-neon">SEND MESSAGE</a>
            </div>
        </section>
    </main>

    <script>
        // === 3Dパーティクル球体アニメーション ===
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let particles = [];
        
        // 設定
        const particleCount = 600; // 粒子の数
        const sphereRadius = 250; // 球の半径
        const rotationSpeed = 0.003; // 回転速度

        // リサイズ処理
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // パーティクルクラス
        class Particle {
            constructor() {
                // 球面上のランダムな点を生成
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos((Math.random() * 2) - 1);
                
                this.x = sphereRadius * Math.sin(phi) * Math.cos(theta);
                this.y = sphereRadius * Math.sin(phi) * Math.sin(theta);
                this.z = sphereRadius * Math.cos(phi);
                
                this.size = Math.random() * 2 + 1; // 粒子の大きさ
            }

            rotate(angleY, angleX) {
                // Y軸回転
                let cos = Math.cos(angleY);
                let sin = Math.sin(angleY);
                let x = this.x * cos - this.z * sin;
                let z = this.z * cos + this.x * sin;
                this.x = x;
                this.z = z;

                // X軸回転
                cos = Math.cos(angleX);
                sin = Math.sin(angleX);
                let y = this.y * cos - this.z * sin;
                z = this.z * cos + this.y * sin;
                this.y = y;
                this.z = z;
            }

            draw(ctx, centerW, centerH) {
                // 遠近感の計算
                const scale = 400 / (400 + this.z); 
                const alpha = (this.z + sphereRadius) / (2 * sphereRadius); // 奥にあるものは薄く

                const px = this.x * scale + centerW;
                const py = this.y * scale + centerH;

                // 色の決定（X座標に基づいてグラデーション：左が黄緑、右がピンク）
                // 画像の色味：Yellow(#ccff00) <-> Pink(#ff0066)
                // xは -radius から +radius
                const colorRatio = (this.x + sphereRadius) / (sphereRadius * 2);
                
                // HSLで色相を変化させる
                // 黄色(60) -> マゼンタ(300) の範囲だと綺麗
                // ここでは単純にRGB補間で画像の色味を再現
                
                // 黄緑 (204, 255, 0)
                // ピンク (255, 0, 102)
                const r = Math.floor(204 + (255 - 204) * colorRatio);
                const g = Math.floor(255 + (0 - 255) * colorRatio);
                const b = Math.floor(0 + (102 - 0) * colorRatio);

                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${alpha})`;
                ctx.beginPath();
                ctx.arc(px, py, this.size * scale, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // 初期化
        for(let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }

        // アニメーションループ
        function animate() {
            ctx.fillStyle = '#000000'; // 背景色（黒）
            ctx.fillRect(0, 0, width, height);

            const centerX = width / 2;
            const centerY = height / 2;

            particles.forEach(p => {
                p.rotate(rotationSpeed, rotationSpeed * 0.5);
                p.draw(ctx, centerX, centerY);
            });

            requestAnimationFrame(animate);
        }
        animate();

        // スクロール時のフェードイン
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {threshold: 0.1});

        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    </script>
</body>
</html>
